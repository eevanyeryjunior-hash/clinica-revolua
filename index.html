<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>REVOLUA - Drª Lucelia Silvana & Drª Karina Lima</title>
  <style>
    /* ... (CSS permanece o mesmo, sem alterações) ... */
    /* Você pode manter o CSS que já está usando */
  </style>
</head>
<body>
  <header>
    <h1>REVOLUA</h1>
    <p>Av. Gov. Antônio de Melo e Souza, 20 - Potengi, Natal - RN, 59125-090</p>
    <p>Atendimento: Domingo a sexta-feira, 08h00 às 19h00 | Sábado: Fechado</p>
  </header>

  <nav>
    <ul>
      <li><a href="#doutoras">Doutoras</a></li>
      <li><a href="#consultas">Consultas</a></li>
      <li><a href="#agendamento">Agendamento</a></li>
      <li><a href="#contato">Contato</a></li>
    </ul>
  </nav>

  <main>
    <!-- Doutoras -->
    <section class="doutoras" id="doutoras">
      <div class="doutora">
        <img src="dra-lucelia.png" alt="Dra. Lucelia Silvana" />
        <h2>Dra. Lucelia Silvana</h2>
        <p>"Tenho um amor incondicional pela fisioterapia"</p>
        <p>Casada e mãe de José Ravi</p>
        <p>WhatsApp: <a href="https://wa.me/5584921474232" target="_blank">+55 84 92147-4232</a></p>
      </div>
      <div class="doutora">
        <img src="dra-karina.png" alt="Dra. Karina Lima" />
        <h2>Dra. Karina Lima</h2>
        <p>"Amo cuidar de pessoas, minha missão e propósito"</p>
        <p>Casada e mãe de Kauê</p>
        <p>WhatsApp: <a href="https://wa.me/558488731827" target="_blank">+55 84 8873-1827</a></p>
      </div>
    </section>

    <!-- Consultas -->
    <section class="consultas" id="consultas">
      <h2>Tipos de Consultas</h2>
      <ul>
        <li data-desc="Dry needling é uma técnica de fisioterapia que utiliza agulhas para aliviar dores musculares.">Dry needling</li>
        <li data-desc="Crioterapia consiste em tratamentos com frio para reduzir inflamações e dores.">Crioterapia</li>
        <li data-desc="Fisioterapia Ortopédica ajuda na recuperação de lesões musculoesqueléticas e articulares.">Fisioterapia Ortopédica</li>
        <li data-desc="Fisioterapia Dermato Funcional foca na estética e saúde da pele, como redução de celulite e flacidez.">Fisioterapia Dermatofuncional</li>
        <li data-desc="Alta Performance é voltada para atletas e pessoas que buscam otimizar seu desempenho físico.">Alta Performance</li>
        <li data-desc="Massoterapia envolve técnicas de massagem terapêutica para relaxamento e alívio de tensões.">Massoterapia</li>
      </ul>
      <div id="descricaoConsulta" style="margin-top:15px; text-align:center; font-style:italic; color:#1DB954;"></div>
    </section>

    <!-- Agendamento -->
    <section class="agendamento" id="agendamento">
      <h2>Agende sua Consulta</h2>
      <form id="form-agendamento">
        <label for="nome">Nome Completo:</label>
        <input type="text" id="nome" name="nome" required placeholder="Seu nome completo" />

        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email" required placeholder="seu@email.com" />

        <label for="doutora">Doutora:</label>
        <select id="doutora" name="doutora" required>
          <option value="" disabled selected>Selecione a doutora</option>
          <option>Dra. Lucelia Silvana</option>
          <option>Dra. Karina Lima</option>
        </select>

        <label for="consulta">Tipo de Consulta:</label>
        <select id="consulta" name="consulta" required>
          <option value="" disabled selected>Selecione a consulta</option>
          <option>Dry needling</option>
          <option>Crioterapia</option>
          <option>Fisioterapia Ortopédica</option>
          <option>Fisioterapia Dermatofuncional</option>
          <option>Alta Performance</option>
          <option>Massoterapia</option>
        </select>

        <label for="data">Data:</label>
        <input type="date" id="data" name="data" required />

        <label for="hora">Hora:</label>
        <select id="hora" name="hora" required></select>

        <button type="submit">Agendar</button>
        <div class="msg" id="msg"></div>
      </form>
    </section>

    <!-- Contato -->
    <section id="contato">
      <h2>Contato</h2>
      <p>Instagram: <a href="https://www.instagram.com/revoluafisio/" target="_blank">@revoluafisio</a></p>
      <div class="mapa">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3977.0326889290333!2d-35.2428432!3d-5.7460899!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7b255675168c8f5:0x8dd4e8e7b1f1d7b!2sAv.+Gov.+Ant%C3%B4nio+de+Melo+e+Souza,+20+-+Potengi,+Natal+-+RN,+59125-090!5e0!3m2!1spt-BR!2sbr!4v1694250000000!5m2!1spt-BR!2sbr"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 REVOLUA - Todos os direitos reservados.
  </footer>

  <!-- SCRIPT ATUALIZADO -->
  <script>
    const inputData = document.getElementById('data');
    const selectHora = document.getElementById('hora');
    const form = document.getElementById('form-agendamento');
    const msg = document.getElementById('msg');

    const hoje = new Date().toISOString().split('T')[0];
    inputData.setAttribute('min', hoje);

    const horarios = [];
    for (let h = 8; h <= 19; h++) {
      horarios.push(h.toString().padStart(2, '0') + ":00");
    }

    let horariosAgendados = [];

    function atualizarHorarios() {
      selectHora.innerHTML = '';
      horarios.forEach(hora => {
        const option = document.createElement('option');
        option.value = hora;
        option.textContent = hora;
        if (horariosAgendados.includes(hora)) {
          option.disabled = true;
          option.textContent += ' (Indisponível)';
        }
        selectHora.appendChild(option);
      });
    }

    atualizarHorarios();

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const nome = form.nome.value.trim();
      const email = form.email.value.trim();
      const doutora = form.doutora.value;
      const consulta = form.consulta.value;
      const data = form.data.value;
      const hora = selectHora.value;

      if (!nome || !email || !doutora || !consulta || !data || !hora) {
        msg.textContent = 'Por favor, preencha todos os campos.';
        msg.style.color = 'red';
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        msg.textContent = 'Por favor, insira um e-mail válido.';
        msg.style.color = 'red';
        return;
      }

      let telefone = '';
      if (doutora === 'Dra. Lucelia Silvana') {
        telefone = '5584921474232';
      } else if (doutora === 'Dra. Karina Lima') {
        telefone = '558488731827';
      }

      const mensagem = `Olá, gostaria de agendar uma consulta.\n\nNome: ${nome}\nE-mail: ${email}\nDoutora: ${doutora}\nConsulta: ${consulta}\nData: ${data}\nHora: ${hora}`;
      const url = `https://wa.me/${telefone}?text=${encodeURIComponent(mensagem)}`;

      const confirmacao = confirm(
        `Deseja confirmar o agendamento com os seguintes dados?\n\n` +
        `Nome: ${nome}\n` +
        `E-mail: ${email}\n` +
        `Doutora: ${doutora}\n` +
        `Consulta: ${consulta}\n` +
        `Data: ${data}\n` +
        `Hora: ${hora}`
      );

      if (confirmacao) {
        horariosAgendados.push(hora);
        atualizarHorarios();

        window.open(url, '_blank');
        msg.textContent = 'Abrindo WhatsApp para envio do agendamento...';
        msg.style.color = '#1DB954';

        form.reset();
        inputData.setAttribute('min', hoje);
      } else {
        msg.textContent = 'Agendamento cancelado pelo usuário.';
        msg.style.color = 'orange';
      }
    });

    const itensConsulta = document.querySelectorAll('.consultas li');
    const descricaoConsulta = document.getElementById('descricaoConsulta');

    itensConsulta.forEach(item => {
      item.addEventListener('click', () => {
        descricaoConsulta.textContent = item.getAttribute('data-desc');
      });
    });
  </script>
</body>
</html>
